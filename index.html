<!DOCTYPE HTML>
<html>
  <head>
    <title>Flask</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='node_modules/mapbox-gl/dist/mapbox-gl.css'/>
    <script type='text/javascript' src='node_modules/mapbox-gl/dist/mapbox-gl.js'></script>
    <script type='text/javascript' src='mapbox-gl-legend.js'></script>
  </head>
  <body style='margin:0'>
    <div id='map' style='height:100vh;width:100wh'></div>
  </body>
  <script>
    const map = new mapboxgl.Map({
      container: 'map',
      style: 'https://openmaptiles.github.io/osm-bright-gl-style/style-cdn.json',
      center: [19.401855467786135, 51.84935276355813],
      zoom: 5
    })
    const data = {
      'Point layer': {
        type: 'Feature',
        properties: {
          'test': 'test'
        },
        geometry: {
          type: 'Point',
          coordinates: [
            15.55070858448744,
            51.29502826533429
          ]
        }
      }
    }
    let overlays = []
    let layer = {
      'id': 'Point layer',
      'source': 'Point layer',
      'type': 'circle',
      'paint': {
        'circle-radius': 10,
        'circle-color': '#007cbf'
      }
    }
    overlays.push(layer)
    map.on('load', () => {
      map.addSource('Point layer', {
        'type': 'geojson',
        'data': data['Point layer']
      })
      map.addLayer(overlays[0])
    })
    const legend = new MapboxLegend(overlays)
    map.addControl(legend)
  </script>
</html>